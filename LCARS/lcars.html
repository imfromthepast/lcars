<html>
    <head>            
        <script type="text/javascript" src="https://code.createjs.com/easeljs-0.8.2.min.js"></script>
        <script type="text/javascript" src="https://code.createjs.com/tweenjs-0.6.2.min.js"></script>
        <script type="text/javascript" src="src/js/isjs.js"></script>
        <!-- <script type="text/javascript" src="https://code.createjs.com/soundjs-0.6.2.min.js"></script> -->
        <!-- <script type="text/javascript" src="src/soundjs.min.js"></script> -->
        <link rel="stylesheet" href="src/lcars.css"></link>
    </head>
    <body>
        <canvas id="tac"></canvas>        
        <canvas id="con"></canvas>      
        <canvas id="ops"></canvas>
        <canvas id="exp"></canvas>
    </body>
    <script type="text/javascript" src="src/js/lcars.js"></script>
    <script type="text/javascript" src="src/configs/tactical.js"></script>
    <script type="text/javascript" src="src/configs/conn.js"></script>
    <script type="text/javascript" src="src/configs/ops.js"></script>
    <script type="text/javascript" src="src/configs/mobile.js"></script>
    <script>        
        // loading existing layouts:
        const tac = new LCARS();
        tac.bind('tac');
        tac.debug=true; // debug renders bounding boxes around the borders of elements
        tac.build(tacLayout);

        // using pre-built components to build layouts:
        const con = new LCARS({n:'con',w:2500,h:700,g:20,id:'con'});
        con.setElements([
            scannerSection,
            navRefSection,
            flightSection,
            joystickSection,
            warpDriveSection,
            impulseSection,
            spacerSection,
            overrideSection
        ]);
        con.build();

        //const ops = new LCARS({n:'ops',w:2500,h:700,g:20,id:'ops'});
        //ops.build(opsLayout);

        class LCARS__OPS extends LCARS{
            constructor(id,debug){
                super({n:'ops',w:2500,h:700,g:20,id:id},debug);
                this.build(opsLayout);
            }
        }

        const ops = new LCARS__OPS('ops');

        const exp = new LCARS('exp',true);

        // experimental stuff:
        exp.height = 700;
        exp.width = 2500;
        exp.gutters = 20;
        const sec1 = new LCARS__Section()
                .Y(0)
                .W(200)
				.setHeader(
					new LCARS__Header()
                        .H(200)
                        .R([20,0,0,20])
                        .C(this.yellow)
                        .M([0,20,100,0])
                        .T('emergency override')
                )
                .setBody([
                        new LCARS__Subheader().W(200).C(this.gold).R([15,0,0,15]).T('engineering systems'),
                        new LCARS__ButtonGroups().X(10).Y(40).Q(3).T(['titled-pill-left']),
                        new LCARS__ButtonGroups().X(10).Y(180).Q(3).T(['titled-pill-right'])
                    ]
                )
                .setFooter(
                    new LCARS__Header()
                    .H('xs')
                    .C(this.tan)
                );
		const sec2 = new LCARS__Section();
		sec2.W(400)
		.setHeader(
			new LCARS__Header()
	            .H(200)
	            .R([0,0,0,0])
	            .C(this.yellow)
	            .M([0,40,100,0])
	            .T('warp drive systems')
		)
		.setBody(
			[
				new LCARS__Subheader().W(400).C(this.yellow).T('power consumption'),
				new LCARS__ReadoutDisplay().setHeader('Atmospheric Process').setRows(8).setCols([6,2,6,6,2,6]).Y(40),
				new LCARS__ReadoutDisplay().setRows(8).setCols([2,8,4]).Y(40).X(210),
				new LCARS__ReadoutDisplay().setRows(8).setCols([3,2,4]).Y(40).X(320)
			]
		)
		.setFooter(
			new LCARS__Header()
                .H('xs')
                .C(this.tan)
		)
        exp.elements.push(
                sec1,
                sec2,
                new LCARS__Section().W(300).N('elbows')
                .setHeader(
                    new LCARS__Elbow('lg-right').H(250)
                ),
                new LCARS__Section().W(300).N('elbows')
                .setHeader(
                    new LCARS__Elbow('lg-left').H(250).M([0,20,0,0])
                ),
                new LCARS__Section().W(200).N('elbows')
                .setHeader(
                    new LCARS__Elbow('md-right').H(100)
                ),
                new LCARS__Section().W(200).N('elbows')
                .setHeader(
                    new LCARS__Elbow('md-left').H(100).M([0,20,0,0])
                ),
                new LCARS__Section().W(100).N('elbows')
                .setHeader(
                    new LCARS__Elbow('sm-right').H(50)
                ),
                new LCARS__Section().W(100).N('elbows')
                .setHeader(
                    new LCARS__Elbow('sm-left').H(50).M([0,20,0,0])
                )
			);

        exp.build();
        console.log(JSON.stringify(exp.output()));
        function doOncePerSecond(){
            console.log('test');
        }
    </script>
</html>